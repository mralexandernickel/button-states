var StateButton=function(){function a(a){this.button=a,this.classNamePrefix="button-state-",this.defaultState=this.button.innerText,this.defaultDuration=2e3,this.button.state=this.state.bind(this),this.button.reset=this.reset.bind(this)}return a.prototype.state=function(a,b,c,d,e){var f=this;void 0===c&&(c=this.defaultDuration),void 0===d&&(d=!1),void 0===e&&(e=!0),b||(b=this.button.dataset[a]),b&&(this.button.innerText=b,this.button.classList.add(this.classNamePrefix+a),d&&(this.button.disabled=!0),e&&setTimeout(function(){f.button.reset()},c))},a.prototype.reset=function(){this.button.innerText=this.defaultState,this.button.removeAttribute("disabled"),this.resetStateClassNames()},a.prototype.resetStateClassNames=function(){for(var a=0;a<this.button.classList.length;a++){var b=this.button.classList[a];b.indexOf(this.classNamePrefix)!==-1&&this.button.classList.remove(b)}},a}(),ButtonStates=function(){function a(){this.buttonsSelector="button.button-state",this.buttons=document.querySelectorAll(this.buttonsSelector),this.createInstances()}return a.prototype.createInstances=function(){for(var a=0;a<this.buttons.length;a++){var b=this.buttons[a];new StateButton(b),b.state("success","New Message",3e3,!0,!0)}},a}();["complete","loaded","interactive"].indexOf(document.readyState)!==-1?new ButtonStates:document.addEventListener("DOMContentLoaded",function(){new ButtonStates});